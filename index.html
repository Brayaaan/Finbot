<!DOCTYPE html>
<html lang="pl">
<head>
<link rel="stylesheet" href="style.css">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FinBot: Asystent FinansÃ³w MÅ‚odego Freelancera</title>

<link rel="stylesheet" href="styles.css">

</head>

<body>
<div class="container">
<h1>ğŸš€ FinBot: Generator RachunkÃ³w Freelancerskich</h1>

<div id="apiStatus" class="api-status">
    ğŸ”„ Sprawdzanie poÅ‚Ä…czenia z API...
</div>

<div class="card" id="dashboardSection">
    <h3>ğŸ“ˆ TwÃ³j Finansowy Dashboard</h3>
    <p>PamiÄ™taj, aby zawsze odkÅ‚adaÄ‡ czÄ™Å›Ä‡ zarobionych pieniÄ™dzy na przyszÅ‚e opÅ‚aty!</p>
    
    <div class="dashboard-metrics">
        <div class="metric-box rev-box">
            <p style="margin: 0; font-size: 12px; color: #3498db;">PRZYCHÃ“D Z OSTATNICH MIESIÄ˜CY (Brutto)</p>
            <strong id="monthlyRevenue" style="color: #3498db;">ÅadujÄ™...</strong>
        </div>
        <div class="metric-box tax-box">
            <p style="margin: 0; font-size: 12px; color: #27ae60;">SUGEROWANA KWOTA DO ODÅOÅ»ENIA</p>
            <strong id="simulatedTax" style="color: #27ae60;">...</strong>
        </div>
        <div class="metric-box jobs-box">
            <p style="margin: 0; font-size: 12px; color: #f39c12;">LICZBA WYGENEROWANYCH RACHUNKÃ“W</p>
            <strong id="jobsCount" style="color: #f39c12;">...</strong>
        </div>
    </div>
    
    <div class="table-container">
        <h4>Ostatnio Wygenerowane Rachunki:</h4>
        <table id="historyTable">
            <thead>
                <tr>
                    <th>Numer</th>
                    <th>Data</th>
                    <th>Kwota Brutto</th>
                    <th>Klient</th>
                    <th>Akcja</th>
                </tr>
            </thead>
            <tbody>
                </tbody>
        </table>
    </div>
    <button type="button" onclick="loadDashboardData()" style="background: #9b59b6;">ğŸ”„ OdÅ›wieÅ¼ Dane Finansowe</button>
</div>
<div id="loadingMessage" class="loading">
    <div class="status-icon">ğŸ”„</div>
    <strong>Przetwarzam Rachunek...</strong><br>
    WysyÅ‚am dane do API...
</div>

<div id="successMessage" class="success">
    <div class="status-icon">âœ…</div>
    <strong>Rachunek wygenerowany pomyÅ›lnie!</strong><br>
    <span id="successDetails"></span>
    <div id="downloadSection" style="margin-top: 15px;"></div>
</div>

<div id="errorMessage" class="error">
    <div class="status-icon">âŒ</div>
    <strong>WystÄ…piÅ‚ bÅ‚Ä…d</strong><br>
    <span id="errorText">SprÃ³buj ponownie za chwilÄ™.</span>
</div>

<form id="invoiceForm" class="card">
    <div class="form-section">
        <h3>ğŸ“‹ Informacje o Rachunku</h3>
        <div class="form-group">
            <label>Numer Rachunku</label>
            <input type="text" id="invoice_number" value="Rach/2024/001" required>
        </div>
        <div class="form-group">
            <label>Data wystawienia</label>
            <input type="date" id="issue_date" required>
        </div>
        <div class="form-group">
            <label>Data sprzedaÅ¼y/wykonania usÅ‚ugi</label>
            <input type="date" id="sale_date" required>
        </div>
        <div class="form-group">
            <label>Miejsce wystawienia</label>
            <input type="text" id="place" value="Warszawa" required>
        </div>
    </div>

    <div class="form-section">
        <h3>ğŸ¢ Sprzedawca (Ty)</h3>
        <div class="form-group">
            <label>Nazwa (ImiÄ™ i Nazwisko / Nazwa Firmy)</label>
            <input type="text" id="seller_company" value="Jan Kowalski (Student)" required>
        </div>
        <div class="form-group">
            <label>NIP (Opcjonalnie dla osÃ³b fizycznych)</label>
            <input type="text" id="seller_nip" value="">
        </div>
        <div class="form-group">
            <label>Ulica</label>
            <input type="text" id="seller_street" value="ul. WymyÅ›lona 1" required>
        </div>
        <div class="form-group">
            <label>Kod pocztowy</label>
            <input type="text" id="seller_postal" value="00-001" required>
        </div>
        <div class="form-group">
            <label>Miasto</label>
            <input type="text" id="seller_city" value="Warszawa" required>
        </div>
        </div>

    <div class="form-section">
        <h3>ğŸ‘¥ Nabywca (Klient)</h3>
        <div class="form-group">
            <label>Nazwa firmy / ImiÄ™ i Nazwisko</label>
            <input type="text" id="buyer_company" value="Firma Klient Sp. z o.o." required>
        </div>
        <div class="form-group">
            <label>NIP (Wymagany dla firm)</label>
            <input type="text" id="buyer_nip" value="9876543210" required>
            <div id="buyerNipError" class="validation-error">âŒ Niepoprawny numer NIP</div>
            <div id="buyerNipSuccess" class="validation-success">âœ… Poprawny NIP</div>
        </div>
        <div class="form-group">
            <label>Ulica</label>
            <input type="text" id="buyer_street" value="al. Klientowska 10" required>
        </div>
        <div class="form-group">
            <label>Kod pocztowy</label>
            <input type="text" id="buyer_postal" value="50-002" required>
        </div>
        <div class="form-group">
            <label>Miasto</label>
            <input type="text" id="buyer_city" value="WrocÅ‚aw" required>
        </div>
        </div>

    <div class="form-section">
        <h3>ğŸ“¦ Pozycje Rachunku</h3>
        <p>FinBot zakÅ‚ada stawkÄ™ **VAT 0%** (Zwolnienie Podmiotowe). PamiÄ™taj, Å¼e moÅ¼esz jÄ… zmieniÄ‡.</p>
        <div class="table-container">
            <table id="itemsTable">
                <thead>
                    <tr>
                        <th>Nazwa UsÅ‚ugi</th>
                        <th>Jm.</th>
                        <th>IloÅ›Ä‡</th>
                        <th>Cena netto</th>
                        <th>VAT %</th>
                        <th>WartoÅ›Ä‡ netto</th>
                        <th>WartoÅ›Ä‡ brutto</th>
                        <th>UsuÅ„</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="text" class="item_name" value="UsÅ‚uga programowania (Projekt Hack Heroes)" required></td>
                        <td><input type="text" class="item_unit" value="usÅ‚uga" required></td>
                        <td><input type="number" class="item_qty" value="1" min="0" step="0.5" required></td>
                        <td><input type="number" class="item_price" value="150" min="0" step="0.01" required></td>
                        <td><input type="number" class="item_vat" value="0" min="0" max="23" required></td>
                        <td><span class="item_net_value">150.00</span> zÅ‚</td>
                        <td><span class="item_gross_value">150.00</span> zÅ‚</td>
                        <td><button type="button" class="removeItem">âŒ</button></td>
                    </tr>
                </tbody>
            </table>
            <button type="button" id="addItem">â• Dodaj pozycjÄ™</button>
        </div>
        
        <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 6px;">
            <strong>Sumy:</strong>
            <div>Netto: <span id="totalNetto">150.00</span> zÅ‚</div>
            <div>VAT: <span id="totalVat">0.00</span> zÅ‚</div>
            <div><strong>Brutto: <span id="totalBrutto">150.00</span> zÅ‚</strong></div>
        </div>
    </div>

    <div class="form-section">
        <h3>ğŸ’³ PÅ‚atnoÅ›Ä‡ i uwagi</h3>
        <div class="form-group">
            <label>SposÃ³b pÅ‚atnoÅ›ci</label>
            <select id="payment_method">
                <option value="Przelew bankowy">Przelew bankowy</option>
                <option value="GotÃ³wka">GotÃ³wka</option>
            </select>
        </div>
        <div class="form-group">
            <label>Numer konta bankowego</label>
            <input type="text" id="bank_account" value="12 3456 7890 1234 5678 9012 3456">
        </div>
        <div class="form-group">
            <label>Uwagi</label>
            <textarea id="notes" rows="3" style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #ddd; resize: vertical;">Prosimy o pÅ‚atnoÅ›Ä‡ w terminie 14 dni. Sprzedawca jest osobÄ… fizycznÄ… (zwolnienie podmiotowe z VAT).</textarea>
        </div>
    </div>

    <div class="action-buttons">
        <button type="submit" style="background: #27ae60;">
            ğŸ“¤ Wygeneruj Rachunek PDF
        </button>
    </div>
</form>

<div class="academy-section">
    <h4>ğŸ“ Akademia FinBota: Szybkie Lekcje</h4>
    <ul>
        <li>**Netto vs. Brutto:** JeÅ›li jesteÅ› osobÄ… fizycznÄ… na umowie, kwota **Brutto** to kwota, ktÃ³rÄ… dostajesz, a z ktÃ³rej Klient potrÄ…ca zaliczkÄ™ na podatek. **Netto** to kwota "na rÄ™kÄ™".</li>
        <li>**DziaÅ‚alnoÅ›Ä‡ Nierejestrowana (DN):** JeÅ›li nie masz firmy i Twoje przychody sÄ… maÅ‚e, moÅ¼esz dziaÅ‚aÄ‡ jako DN. Nie musisz mieÄ‡ NIP ani VAT.</li>
        <li>**Zwolnienie Podmiotowe (VAT):** WiÄ™kszoÅ›Ä‡ poczÄ…tkujÄ…cych jest z niego zwolniona (stÄ…d proponowany VAT 0%).</li>
        <li>**Backup:** FinBot automatycznie tworzy backup kaÅ¼dego rachunku na Twoim serwerze!</li>
    </ul>
</div>
</div>

<script src="finbot_scripts.js"></script>

</body>

</html>
